<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blik 4</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f5f5f5;
}

.header {
    background: #e3f2fd;
    color: #1565c0;
    padding: 12px 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.header h1 {
    font-size: 18px;
    margin: 0;
}

.header img {
    height: 30px;
}

.app {
    max-width: 400px;
    margin: auto;
    padding: 15px;
}

.back {
    margin-bottom: 10px;
    display: inline-block;
    text-decoration: none;
    color: #1565c0;
    font-size: 14px;
}

.switch-info {
    background: white;
    border-radius: 6px;
    padding: 10px;
    margin-bottom: 15px;
    font-size: 14px;
}

.switch-row {
    display: none;
    background: white;
    border-radius: 6px;
    padding: 10px;
    margin-bottom: 8px;
}

.switch-row strong {
    display: block;
    font-size: 13px;
    color: #555;
}
</style>
</head>

<body>

<div class="header">
    <h1>Blik 4</h1>
    <img src="ym.png" alt="Logo">
</div>

<div class="app">
    <a href="index.html" class="back">← Terug</a>

    <div class="switch-info" id="switchInfo">
        Ombouw van … → …
    </div>

    <div class="switch-row" data-field="artikelnummer">
        <strong>Artikelnummer</strong>
        <span></span>
    </div>

    <div class="switch-row" data-field="blikinhoud">
        <strong>Blikinhoud</strong>
        <span></span>
    </div>

    <div class="switch-row" data-field="deksel">
        <strong>Deksel</strong>
        <span></span>
    </div>

    <div class="switch-row" data-field="verpakker1">
        <strong>Verpakker 1</strong>
        <span></span>
    </div>

    <div class="switch-row" data-field="verpakker2">
        <strong>Verpakker 2</strong>
        <span></span>
    </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "JOUW_API_KEY",
    authDomain: "JOUW_PROJECT.firebaseapp.com",
    projectId: "JOUW_PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const artikelNu = localStorage.getItem("productNu");
const artikelNa = localStorage.getItem("productNa");

async function loadData() {
    if (!artikelNu || !artikelNa) return;

    const oudSnap = await getDoc(doc(db, "productiedatabase", artikelNu));
    const nieuwSnap = await getDoc(doc(db, "productiedatabase", artikelNa));

    if (!oudSnap.exists() || !nieuwSnap.exists()) return;

    const oud = oudSnap.data();
    const nieuw = nieuwSnap.data();

    document.getElementById("switchInfo").innerText =
        `Ombouw van ${oud.omschrijving || artikelNu} → ${nieuw.omschrijving || artikelNa}`;

    document.querySelectorAll(".switch-row").forEach(row => {
        const field = row.dataset.field;
        const oldVal = oud[field] || "";
        const newVal = nieuw[field] || "";

        if (oldVal || newVal) {
            row.style.display = "block";
            row.querySelector("span").innerText =
                `${oldVal || "-"} → ${newVal || "-"}`;
        }
    });
}

loadData();
</script>

</body>
</html>
