<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Depal</title>
<style>
body{font-family:Arial;background:#f5f5f5;padding:20px;}
.app{max-width:400px;margin:auto;background:white;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.1);overflow:hidden;}
.header{background:#2e7d32;color:white;padding:12px;display:flex;align-items:center;gap:10px;border-bottom:4px solid #4caf50;}
.header img{height:32px;}
.header h1{margin:0;font-size:20px;}
.content{padding:20px;}
.back{display:inline-block;margin-bottom:15px;text-decoration:none;color:#2e7d32;font-weight:bold;}
.switch{background:#f7f7f7;padding:10px;border-radius:6px;margin-bottom:15px;font-size:14px;}
.list{list-style:none;padding:0;}
.list li{padding:10px;border-bottom:1px solid #ddd;}
.item-name{font-weight:bold;}
.item-value{font-size:14px;color:#555;}
</style>
</head>
<body>

<div class="app">
    <div class="header">
        <img src="ym.png" alt="Logo">
        <h1>Depal</h1>
    </div>

    <div class="content">
        <a class="back" href="index.html">‚Üê Terug</a>

        <div class="switch">
            Ombouw van: <strong id="omschrijvingOud">‚Äî</strong> ‚Üí <strong id="omschrijvingNieuw">‚Äî</strong>
        </div>

        <ul class="list">
            <li class="switch-row" data-field="artikelnummer">
                <div class="item-name">Artikelnummer</div>
                <div class="item-value">‚Äî ‚Üí ‚Äî</div>
            </li>
            <li class="switch-row" data-field="blikinhoud">
                <div class="item-name">Blikinhoud</div>
                <div class="item-value">‚Äî ‚Üí ‚Äî</div>
            </li>
            <li class="switch-row" data-field="blik">
                <div class="item-name">Blik</div>
                <div class="item-value">‚Äî ‚Üí ‚Äî</div>
            </li>
        </ul>
    </div>
</div>

<!-- Firebase Web SDKs -->
<script src="https://www.gstatic.com/firebasejs/12.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore-compat.js"></script>

<script>
// üîπ Firestore configuratie (vul hier jouw eigen config in)
const firebaseConfig = {
  apiKey:"AIzaSyBtV-MNtSxf7mJ5RM5dS_5MeRdpcOMy6a4",
  authDomain:"productiedatabase.firebaseapp.com",
  projectId:"productiedatabase",
  storageBucket:"productiedatabase.firebasestorage.app",
  messagingSenderId:"269980901692",
  appId:"1:269980901692:web:642b70f033694811817e39"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Firestore database referentie
const db = firebase.firestore();

// Document ID ophalen (bijvoorbeeld via URL of localStorage)
const docId = localStorage.getItem("productNu") || "standaardDocumentId";

// Haal document op uit 'productiedatabase'
db.collection("productiedatabase").doc(docId).get()
  .then(docSnap => {
    if (docSnap.exists) {
      const data = docSnap.data();

      // Veld 'omschrijving oud' en 'omschrijving nieuw' tonen
      document.getElementById("omschrijvingOud").textContent = data.omschrijving?.oud || "‚Äî";
      document.getElementById("omschrijvingNieuw").textContent = data.omschrijving?.nieuw || "‚Äî";

      // Vul alle switch‚Äëregels
      document.querySelectorAll('.switch-row').forEach(row => {
        const field = row.dataset.field;
        if (data[field]) {
          const oud = data[field].oud || "";
          const nieuw = data[field].nieuw || "";
          if (oud || nieuw) {
            row.querySelector('.item-value').textContent = `${oud || '‚Äî'} ‚Üí ${nieuw || '‚Äî'}`;
          } else {
            row.style.display = 'none';
          }
        } else {
          row.style.display = 'none';
        }
      });

    } else {
      console.error("Geen document gevonden!");
    }
  })
  .catch(error => {
    console.error("Fout bij ophalen:", error);
  });
</script>

</body>
</html>
